<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Maintenance Mode (but make it fun)</title>
  <style>
    :root{
      --bg:#0b0f17;
      --card:rgba(255,255,255,.07);
      --card2:rgba(255,255,255,.05);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.68);
      --accent:#7c3aed;
      --accent2:#22c55e;
      --danger:#ef4444;
      --shadow: 0 20px 60px rgba(0,0,0,.35);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      background:
        radial-gradient(1200px 600px at 70% 20%, rgba(124,58,237,.18), transparent 60%),
        radial-gradient(900px 500px at 20% 80%, rgba(34,197,94,.12), transparent 60%),
        var(--bg);
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      padding:24px;
    }
    .wrap{
      width:min(980px, 100%);
      display:grid;
      gap:18px;
      grid-template-columns: 1.2fr .8fr;
    }
    @media (max-width: 900px){
      .wrap{grid-template-columns:1fr}
    }
    .card{
      background:linear-gradient(180deg, var(--card), var(--card2));
      border:1px solid rgba(255,255,255,.10);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .pad{padding:18px 18px 14px}
    .top{
      display:flex;
      gap:12px;
      align-items:flex-start;
      justify-content:space-between;
    }
    .title{
      font-size:clamp(22px, 3vw, 32px);
      line-height:1.1;
      margin:0;
      letter-spacing:-0.02em;
    }
    .subtitle{
      margin:8px 0 0;
      color:var(--muted);
      font-size:14px;
      line-height:1.5;
      max-width:62ch;
    }
    .pillrow{display:flex; gap:8px; flex-wrap:wrap; margin-top:12px}
    .pill{
      font-size:12px;
      color:rgba(255,255,255,.86);
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      padding:7px 10px;
      border-radius:999px;
      user-select:none;
    }
    .pill b{color:white}
    .progress{
      margin-top:14px;
      height:10px;
      border-radius:999px;
      background:rgba(255,255,255,.08);
      overflow:hidden;
      border:1px solid rgba(255,255,255,.10);
    }
    .bar{
      height:100%;
      width:0%;
      border-radius:999px;
      background:linear-gradient(90deg, var(--accent), #3b82f6);
      transition:width .6s ease;
    }
    .small{
      margin:10px 0 0;
      color:var(--muted);
      font-size:12px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .small code{
      background:rgba(0,0,0,.25);
      padding:2px 6px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,.10);
      color:rgba(255,255,255,.85);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    }

    /* Snake area */
    .gameHeader{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      padding:14px 18px;
      border-top:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.18);
    }
    .stats{display:flex; gap:12px; flex-wrap:wrap; font-size:12px; color:var(--muted)}
    .stats span{color:rgba(255,255,255,.85)}
    .btns{display:flex; gap:8px; flex-wrap:wrap}
    button{
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      color:rgba(255,255,255,.92);
      padding:9px 12px;
      border-radius:12px;
      cursor:pointer;
      font-weight:600;
      font-size:13px;
    }
    button:hover{background:rgba(255,255,255,.10)}
    button:active{transform:translateY(1px)}
    .primary{
      background:rgba(124,58,237,.20);
      border-color:rgba(124,58,237,.45);
    }
    .primary:hover{background:rgba(124,58,237,.28)}

    canvas{
      width:100%;
      height:auto;
      display:block;
      background:rgba(0,0,0,.25);
    }

    /* Right column: funny status + tips */
    .side .pad{padding:18px}
    .h2{
      margin:0 0 10px;
      font-size:16px;
      letter-spacing:-0.01em;
    }
    .log{
      border:1px dashed rgba(255,255,255,.16);
      border-radius:14px;
      padding:12px;
      background:rgba(0,0,0,.18);
      min-height:190px;
      font-size:13px;
      color:rgba(255,255,255,.86);
      line-height:1.5;
    }
    .log .muted{color:var(--muted)}
    .log .ok{color: #86efac}
    .log .warn{color: #fde68a}
    .log .nope{color: #fca5a5}

    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size: 12px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.06);
      padding:2px 6px;
      border-radius:8px;
      color:rgba(255,255,255,.88);
    }

    .footer{
      margin-top:12px;
      font-size:12px;
      color:var(--muted);
    }
    a{color:rgba(255,255,255,.9)}
  </style>
</head>
<body>
  <main class="wrap">
    <!-- Left: Main maintenance + game -->
    <section class="card">
      <div class="pad">
        <div class="top">
          <div>
            <h1 class="title">We‚Äôre doing maintenance üß∞</h1>
            <p class="subtitle">
              The site is currently being lovingly reassembled with the care of someone trying to plug in USB the correct way‚Ä¶ on the first attempt.
              <br><span class="muted">While we fix things, please enjoy the official distraction device below.</span>
            </p>
            <div class="pillrow">
              <div class="pill">Status: <b id="statusText">Turning it off and on again</b></div>
              <div class="pill">Coffee level: <b id="coffeeLevel">critical</b></div>
              <div class="pill">Bug count: <b id="bugCount">too confident</b></div>
            </div>

            <div class="progress" aria-label="fake progress bar">
              <div class="bar" id="progressBar"></div>
            </div>
            <div class="small">
              <span>Estimated completion: <code id="eta">soon‚Ñ¢</code></span>
              <span>Truthful completion: <code id="truth">unknown (but vibes are good)</code></span>
            </div>
          </div>

          <div style="text-align:right; min-width:190px">
            <div class="pill">Hotfix ritual: <b>‚ú® performed ‚ú®</b></div>
            <div class="pill" style="margin-top:8px">Server mood: <b id="serverMood">moody</b></div>
          </div>
        </div>
      </div>

      <canvas id="game" width="720" height="480" aria-label="Snake game"></canvas>

      <div class="gameHeader">
        <div class="stats">
          <div>Score: <span id="score">0</span></div>
          <div>Best: <span id="best">0</span></div>
          <div>Speed: <span id="speed">1.0x</span></div>
          <div class="muted">Controls: <span class="kbd">‚Üë</span> <span class="kbd">‚Üì</span> <span class="kbd">‚Üê</span> <span class="kbd">‚Üí</span> or <span class="kbd">WASD</span> ‚Ä¢ Pause <span class="kbd">P</span></div>
        </div>
        <div class="btns">
          <button class="primary" id="startBtn">Start / Restart</button>
          <button id="pauseBtn">Pause</button>
          <button id="hardBtn" title="For the brave (or the bored)">Hard Mode</button>
        </div>
      </div>
    </section>

    <!-- Right: funny logs -->
    <aside class="card side">
      <div class="pad">
        <h2 class="h2">Live Engineering Updates (definitely real)</h2>
        <div class="log" id="log"></div>

        <div class="footer">
          If you need us urgently, try shouting ‚Äú<b>IT WORKED ON MY MACHINE</b>‚Äù into the void.
          <br>It won‚Äôt help, but it‚Äôs traditional.
        </div>
      </div>
    </aside>
  </main>

  <script>
    // ---------------------------
    // Funny maintenance fluff
    // ---------------------------
    const statusText = document.getElementById("statusText");
    const coffeeLevel = document.getElementById("coffeeLevel");
    const bugCount = document.getElementById("bugCount");
    const serverMood = document.getElementById("serverMood");
    const progressBar = document.getElementById("progressBar");
    const eta = document.getElementById("eta");
    const truth = document.getElementById("truth");
    const logEl = document.getElementById("log");

    const statuses = [
      "Turning it off and on again",
      "Negotiating with the database",
      "Asking the server nicely",
      "Applying duct tape (digital)",
      "Reading the error message this time",
      "Sacrificing a semicolon to the gods",
      "Making it ‚Äòresponsive‚Äô (emotionally)",
      "Updating dependencies‚Ä¶ cautiously"
    ];
    const coffee = ["critical", "low", "acceptable", "dangerously optimistic", "basically espresso"];
    const bugs = ["too confident", "less than yesterday", "multiplied overnight", "in witness protection", "plotting"];
    const moods = ["moody", "confused", "surprisingly cooperative", "needs attention", "vibing"];

    function addLog(line, cls="muted"){
      const p = document.createElement("div");
      p.innerHTML = `<span class="${cls}">‚Ä¢ ${line}</span>`;
      logEl.prepend(p);
      // Keep it tidy
      while(logEl.childNodes.length > 10) logEl.removeChild(logEl.lastChild);
    }

    function randomPick(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

    let fakeProgress = 0;
    function tickMaintenance(){
      statusText.textContent = randomPick(statuses);
      coffeeLevel.textContent = randomPick(coffee);
      bugCount.textContent = randomPick(bugs);
      serverMood.textContent = randomPick(moods);

      // Fake progress: climbs, sometimes goes backwards for comedic realism.
      const delta = (Math.random() * 9) - 2; // -2..7
      fakeProgress = Math.max(0, Math.min(97, fakeProgress + delta));
      progressBar.style.width = fakeProgress.toFixed(0) + "%";

      const etas = ["soon‚Ñ¢", "in a bit", "after one more coffee", "when the hamster finishes running", "shortly-ish"];
      eta.textContent = randomPick(etas);

      const truths = [
        "unknown (but vibes are good)",
        "classified information",
        "depends on the bug‚Äôs emotional state",
        "whenever JavaScript feels like it",
        "after we stop touching it"
      ];
      truth.textContent = randomPick(truths);

      const logLines = [
        ["Cleared cache. The cache fought back.", "warn"],
        ["Found bug. Bug found friends.", "warn"],
        ["Deployed fix. Immediately undeployed fix.", "nope"],
        ["Server responded ‚Äòlol‚Äô. Investigating.", "warn"],
        ["Added console.log(). Problem intimidated.", "ok"],
        ["Refactored code. Now it‚Äôs ‚Äòart‚Äô.", "ok"],
        ["Database asked for boundaries. We respect that.", "ok"],
        ["Reduced bugs by 0.3%. We take wins.", "muted"],
      ];
      const [line, cls] = randomPick(logLines);
      addLog(line, cls);
    }

    addLog("Booting maintenance mode‚Ä¶ please hold your snacks.", "ok");
    addLog("Loading sarcasm module‚Ä¶ done.", "ok");
    tickMaintenance();
    setInterval(tickMaintenance, 3500);

    // ---------------------------
    // Snake Game (canvas)
    // ---------------------------
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    const scoreEl = document.getElementById("score");
    const bestEl  = document.getElementById("best");
    const speedEl = document.getElementById("speed");

    const startBtn = document.getElementById("startBtn");
    const pauseBtn = document.getElementById("pauseBtn");
    const hardBtn  = document.getElementById("hardBtn");

    const GRID = 24;
    const COLS = Math.floor(canvas.width / GRID);
    const ROWS = Math.floor(canvas.height / GRID);

    const STORAGE_KEY = "maintenance_snake_best";
    let best = Number(localStorage.getItem(STORAGE_KEY) || 0);
    bestEl.textContent = best;

    let snake, dir, nextDir, food, score, running, paused, tickMs, hardMode;

    function resetGame(){
      snake = [{x: Math.floor(COLS/2), y: Math.floor(ROWS/2)}];
      dir = {x: 1, y: 0};
      nextDir = {x: 1, y: 0};
      score = 0;
      running = true;
      paused = false;
      tickMs = hardMode ? 85 : 120;
      placeFood();
      scoreEl.textContent = score;
      updateSpeedLabel();
      addLog(hardMode ? "Hard mode enabled. May your reflexes be blessed." : "Snake restarted. Your procrastination is now interactive.", "ok");
    }

    function updateSpeedLabel(){
      const base = 120;
      const mult = (base / tickMs);
      speedEl.textContent = mult.toFixed(1) + "x";
    }

    function placeFood(){
      while(true){
        const fx = Math.floor(Math.random()*COLS);
        const fy = Math.floor(Math.random()*ROWS);
        if(!snake.some(s=>s.x===fx && s.y===fy)){
          food = {x: fx, y: fy};
          return;
        }
      }
    }

    function draw(){
      // background
      ctx.clearRect(0,0,canvas.width,canvas.height);

      // subtle grid
      ctx.globalAlpha = 0.18;
      for(let x=0;x<=COLS;x++){
        ctx.beginPath();
        ctx.moveTo(x*GRID, 0);
        ctx.lineTo(x*GRID, canvas.height);
        ctx.stroke();
      }
      for(let y=0;y<=ROWS;y++){
        ctx.beginPath();
        ctx.moveTo(0, y*GRID);
        ctx.lineTo(canvas.width, y*GRID);
        ctx.stroke();
      }
      ctx.globalAlpha = 1;

      // food
      ctx.fillRect(food.x*GRID+4, food.y*GRID+4, GRID-8, GRID-8);

      // snake
      snake.forEach((s,i)=>{
        const pad = i===0 ? 3 : 5;
        ctx.fillRect(s.x*GRID+pad, s.y*GRID+pad, GRID-(pad*2), GRID-(pad*2));
      });

      if(!running){
        overlayText("Game over üíÄ", "Press Start / Restart");
      } else if(paused){
        overlayText("Paused ‚è∏", "Press P or Pause");
      }
    }

    function overlayText(big, small){
      ctx.save();
      ctx.globalAlpha = 0.85;
      ctx.fillRect(0,0,canvas.width,canvas.height);
      ctx.globalAlpha = 1;
      ctx.fillStyle = "white";
      ctx.font = "700 42px system-ui, sans-serif";
      ctx.textAlign = "center";
      ctx.fillText(big, canvas.width/2, canvas.height/2 - 10);
      ctx.font = "500 16px system-ui, sans-serif";
      ctx.fillText(small, canvas.width/2, canvas.height/2 + 24);
      ctx.restore();
    }

    function step(){
      if(!running || paused) return;

      dir = nextDir;

      const head = snake[0];
      const newHead = {x: head.x + dir.x, y: head.y + dir.y};

      // wall collision
      if(newHead.x < 0 || newHead.x >= COLS || newHead.y < 0 || newHead.y >= ROWS){
        die("Snake attempted to escape the maintenance page. Denied.");
        return;
      }

      // self collision
      if(snake.some(s => s.x === newHead.x && s.y === newHead.y)){
        die("Snake got too philosophical and ate its own tail.");
        return;
      }

      snake.unshift(newHead);

      // eat
      if(newHead.x === food.x && newHead.y === food.y){
        score++;
        scoreEl.textContent = score;

        // speed up gradually
        if(score % 4 === 0){
          tickMs = Math.max(55, tickMs - (hardMode ? 6 : 4));
          updateSpeedLabel();
        }

        if(score > best){
          best = score;
          localStorage.setItem(STORAGE_KEY, String(best));
          bestEl.textContent = best;
        }

        placeFood();

        const snackLines = [
          "Snack acquired. Productivity decreased by 12%.",
          "The snake approves this meal.",
          "Crunchy pixels consumed successfully.",
          "You have defeated the apple. Again."
        ];
        addLog(randomPick(snackLines), "ok");
      } else {
        snake.pop();
      }
    }

    function die(message){
      running = false;
      addLog(message, "nope");
      addLog("Maintenance tip: if it breaks, stare at it until it fixes itself.", "warn");
    }

    // Input
    function setDirection(x,y){
      // prevent reversing directly
      if((dir.x === 1 && x === -1) || (dir.x === -1 && x === 1) ||
         (dir.y === 1 && y === -1) || (dir.y === -1 && y === 1)) return;
      nextDir = {x,y};
    }

    window.addEventListener("keydown", (e)=>{
      const k = e.key.toLowerCase();
      if(k === "arrowup" || k === "w") setDirection(0,-1);
      if(k === "arrowdown" || k === "s") setDirection(0,1);
      if(k === "arrowleft" || k === "a") setDirection(-1,0);
      if(k === "arrowright" || k === "d") setDirection(1,0);

      if(k === "p"){
        togglePause();
      }
    });

    function togglePause(){
      if(!running) return;
      paused = !paused;
      addLog(paused ? "Paused. Go pretend you‚Äôre working." : "Unpaused. Back to important snake business.", paused ? "warn" : "ok");
      draw();
    }

    startBtn.addEventListener("click", ()=>{
      resetGame();
      draw();
    });

    pauseBtn.addEventListener("click", togglePause);

    hardBtn.addEventListener("click", ()=>{
      hardMode = !hardMode;
      hardBtn.classList.toggle("primary", hardMode);
      addLog(hardMode ? "Hard mode toggled ON. Blame yourself later." : "Hard mode toggled OFF. Peace has returned.", hardMode ? "warn" : "ok");
      resetGame();
      draw();
    });

    // Game loop
    hardMode = false;
    resetGame();
    draw();

    let last = performance.now();
    function loop(now){
      const elapsed = now - last;
      if(elapsed >= tickMs){
        last = now;
        step();
        draw();
      }
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);
  </script>
</body>
</html>
